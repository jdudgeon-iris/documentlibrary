<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/3842d44a07.js" crossorigin="anonymous"></script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>



    <title>Consent to Photograph</title>
    <link rel="icon" href="/static/img/favicon.png" type="image/x-icon">
    <style>
    .signature-pad {
      border: 1px solid #ccc;
      width: 100%;
      height: 110px;
      touch-action: none;
      }
	  #form-container {
	  max-width: 800px;
	  margin: auto;
	  padding: 20px;
	  background-color: #fff;
	  border-radius: 8px;
	  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
	}
    </style>
  </head>
  <body style="background: #7867AE">
		<div class="container mt-3 mb-3 pb-2 rounded-3 bg-light">
			<br>
			<form id="form-container" class="container mt-3 mb-3 pb-2" method="post" action="/submit">
				<div>
					<img src="/static/img/Iris Logo.png" alt="Logo" class="img-fluid mx-auto d-block mb-3" style="max-width: 200px;">
					<hr>
					<h1 class="text-center">Consent to Photograph</h1>
				</div>

				<div>
					<p>
						Consent must be completed with each instance where photographs are requested by a referral agency coordinator and/or staff in accordance with the purposes of the referral.
					</p>
					<p class="d-flex align-items-center">
						This consent is valid on this date:&nbsp;<input type="date" class="form-control d-inline-block" id="date" placeholder="Date" style="width: auto;">
					</p>

					<p>
						I give permission to my Iris Family Support Center worker to take photographs as needed to document the condition of my home and/or family. I understand that these photographs may be used to:
						<ul>
							<li>Document current conditions and any improvements over time.</li>
							<li>Support the services provided through my referral.</li>
							<li>Be used for training purposes within Iris Family Support Center.</li>
						</ul>
						Photographs will be taken only as necessary, based on the specific needs outlined in the referral. They will not include any identifying features of my home or family members that could reveal our identity to anyone outside of Iris Family Support Center and the referral agency.
					</p>
				</div>

				<hr>
                <div id="signature section">
					<div class ="container-fluid">
						<div class="row align-items-start">
							<div class="mb-3 col">
								<input type="text" class="form-control" id="client1name">
								<label class="form-text" for="client1name">Client Name</label>
							</div>
							<div class="mb-3 col">
								<div class="mb-3 text-center">
									<img id="client1signature-image" src="" alt="Client Signature" style="border:1px solid #000; width: 300px; height: 55px; display: none;">
									<button id="client1signbutton" type="button" class="btn btn-outline-primary btn-sm mt-2" data-bs-toggle="modal" data-bs-target="#client1signatureModal">Sign Here</button>
								</div>
								<div class="mb-3 row align-items-start">
									<label class="form-text col" for="client1signature-pad">Client Signature</label>
									<a href="#" onclick="clearSignatureImage('client1signature-image'); return false;" class="form-text col">Clear Signature</a>
								</div>
							</div>
							<div class="mb-3 col">
								<input type="date" class="form-control" id="client1Signed" style="width: auto;">
								<label class="form-text" for="client1Signed">Date Signed</label>
							</div>
						</div>
					</div>
					<div class ="container-fluid">
						<div class="row align-items-start">
							<div class=" mb-3 col">
								<input type="text" class="form-control" id="client2name" >
								<label class="form-text" for="client2name">Client Name</label>
							</div>
							<div class=" mb-3 col">
								<div class="mb-3 text-center">
									<img id="client2signature-image" src="" alt="Client Signature" style="border:1px solid #000; width: 300px; height: 55px; display: none;">
									<button id="client2signbutton" type="button" class="btn btn-outline-primary btn-sm mt-2" data-bs-toggle="modal" data-bs-target="#client2signatureModal">Sign Here</button>
								</div>
								<div class="mb-3 row align-items-start">
									<label class="form-text col" for="client2signature-pad">Client Signature</label>
									<a href="#" onclick="clearSignatureImage('client2signature-image'); return false;" class="form-text col">Clear Signature</a>
								</div>
							</div>
							<div class="mb-3 col">
								<input type="date" class="form-control" id="client2Signed" name="client2Signed" style="width: auto;">
								<label class="form-text" for="client2Signed">Date Signed</label>
							</div>
						</div>
					</div>
					<div class ="container-fluid">
						<div class="row align-items-start">
							<div class="mb-3 col">
								<input type="text" class="form-control" id="staffname" >
								<label class="form-text" for="staffname">Staff Name</label>
							</div>
							<div class="mb-3 col">
								<div class="mb-3 text-center">
									<img id="staffsignature-image" src="" alt="Staff Signature" style="border:1px solid #000; width: 300px; height: 55px; display: none;">
									<button id="staffsignbutton" type="button" class="btn btn-outline-primary btn-sm mt-2" data-bs-toggle="modal" data-bs-target="#staffsignatureModal">Sign Here</button>
								</div>
								<div class="mb-3 row align-items-start">
									<label class="form-text col" for="staffsignature-pad">Staff Signature</label>
									<a href="#" onclick="clearSignatureImage('staffsignature-image'); return false;" class="form-text col">Clear Signature</a>
								</div>
							</div>
							<div class="mb-3 col">
								<input type="date" class="form-control" id="staffSigned" style="width: auto;">
								<label class="form-text" for="staffSigned">Date Signed</label>
							</div>
						</div>
					</div>
				</div>
			</form>
			<button type="button" class="btn btn-primary" onclick="saveAsPDF()">Save as PDF</button>
		</div>


<div class="modal fade" id="client1signatureModal" tabindex="-1" aria-labelledby="client1signatureModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="client1signatureModalLabel">Client Signature</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body text-center">
			<canvas class="signature-pad" id="client1signature-pad"></canvas>
				<div class="mt-2">
					<button class="btn btn-sm btn-secondary" onclick="clearSignature('client1signature-pad')">Clear</button>
					<button class="btn btn-sm btn-primary" onclick="saveSignatureToImage('client1')">Save</button>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="client2signatureModal" tabindex="-1" aria-labelledby="client2signatureModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="client2signatureModalLabel">Client Signature</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body text-center">
			<canvas class="signature-pad" id="client2signature-pad"></canvas>
				<div class="mt-2">
					<button class="btn btn-sm btn-secondary" onclick="clearSignature('client2signature-pad')">Clear</button>
					<button class="btn btn-sm btn-primary" onclick="saveSignatureToImage('client2')">Save</button>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="staffsignatureModal" tabindex="-1" aria-labelledby="signatureModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="signatureModalLabel">Staff Signature</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body text-center">
			<canvas class="signature-pad" id="staffsignature-pad"></canvas>
				<div class="mt-2">
					<button class="btn btn-sm btn-secondary" onclick="clearSignature('staffsignature-pad')">Clear</button>
					<button class="btn btn-sm btn-primary" onclick="saveSignatureToImage('staff')">Save Signature</button>
				</div>
			</div>
		</div>
	</div>
</div>






		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<script src="js/setdates.js"></script>
		<script src="js/signature-pad.js"></script>
		<script src="js/savepdf.js"></script>
	</body>
</html>

